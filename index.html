<html lang="en">
    <head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7FN7LEVWXD"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-7FN7LEVWXD');
        </script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="../images/ico.ico" type="image/x-icon">
        <link rel="stylesheet" href="../storage/css/games6.css">
        <title>Games | Seraph</title>

        <meta name="description" content="seraph; an open source unblocked games website hosting 300+ games with rehosting support, custom themes, cloaking, apps + more!">
        <meta property="og:site_name" content="seraph">
        <meta property="og:title" content="seraph">
        <meta property="og:type" content="website">
        <meta property="og:description" content="seraph; an open source unblocked games website hosting 100+ games with downloadable support, a clean and centralised user interface and no iframe embedding">
        
        <style>
            .pinned-container {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .pin-button {
                position: absolute;
                top: 5px;
                right: 5px; 
                cursor: none;
                z-index: 2; 
            }
        </style>
  </head>
  <body>
    
        <h1 class="typewriter"><span id="cursor"></span></h1>

        <input type="text" id="search" placeholder="⌕ search" autocomplete="off">
        <select id="genreDropdown" style="margin-top: 5px; margin-left: 5px;">
            <option value="all">all</option>
            <option value="adventure">adventure</option>
            <option value="arcade">arcade</option>
            <option value="mobile">mobile friendly</option>
            <option value="platformer">platformer</option>
            <option value="puzzle">puzzle</option>
            <option value="simulation">simulation</option>
        </select>
        
       
        <br>
        <h2 class="pinned-header">starred games</h2>
        <div class="pinned-container">

        </div>

        <a target="_blank" href="guessthenumber/index.html">
                <div class="button" style="background-image: url('../images/thumbnails/10minutestilldawn.png');" data-genre="simulation">
                    <h2>guess number</h2>
                    <span class="pin-button">☆</span>
                </div>
            </a>

            <a target="_blank" href="drifthunters/index.html">
                <div class="button" style="background-image: url('../images/thumbnails/10minutestilldawn.png');" data-genre="simulation">
                    <h2>drifthunters</h2>
                    <span class="pin-button">☆</span>
                </div>
            </a>

            <br>
            <br>
            <br>

            
        </div>
        <p> // all games playable on this website are complete copyright & property of their respective owners \\</p>

        <br>
        <script src="../storage/js/cloak.js"></script>
        <script src="../storage/js/theme.js"></script>

        <script>
            function filterGames() {
                const searchInput = document.getElementById('search').value.toLowerCase();
                const buttons = document.querySelectorAll('.button h2');

                buttons.forEach(button => {
                    const gameName = button.textContent.toLowerCase();
                    const buttonContainer = button.parentElement.parentElement;

                    if (gameName.includes(searchInput)) {
                        buttonContainer.style.display = 'block'; 
                    } else {
                        buttonContainer.style.display = 'none';
                    }
                });
            }

            document.getElementById('search').addEventListener('input', filterGames);
        </script>

        <script>
            const genreDropdown = document.getElementById('genreDropdown');

            genreDropdown.addEventListener('change', () => {
                const selectedGenre = genreDropdown.value;
                const buttons = document.querySelectorAll('.button');
                
                buttons.forEach(button => {
                    const dataGenre = button.getAttribute('data-genre');
                    
                    if (selectedGenre === 'all' || selectedGenre === dataGenre) {
                        button.style.display = 'block';
                    } else {
                        button.style.display = 'none';
                    }
                });
            });

            genreDropdown.value = 'all';
        </script>

        <script>
            const text = "games";
            const typingDelay = 500; 
            const initialDelay = 100; 
            const cursor = document.getElementById("cursor");
            const h1 = document.querySelector(".typewriter");

            function type() {
            setTimeout(() => {
                for (let i = 0; i < text.length; i++) {
                setTimeout(() => {
                    h1.textContent += text[i];
                    if (i === text.length - 1) {
                    cursor.style.display = "none"; 
                    }
                }, i * typingDelay);
                }
            }, initialDelay);
            }

            type();
        </script>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                var openBlankLink = document.getElementById('openBlankLink');
            
                openBlankLink.addEventListener('click', function(event) {
                    event.preventDefault();
            
                    var newTab = window.open('about:blank', '_blank');
            
                    if (newTab) {
                        var newTabBody = newTab.document.body;
                        newTabBody.style.padding = '0';
                        newTabBody.style.margin = '0';
                        newTabBody.style.border = 'hidden';
            
                        var iframe = document.createElement('iframe');
                        iframe.src = window.location.href;
                        iframe.style.width = '100%';
                        iframe.style.height = '100%';
                        iframe.style.border = 'hidden';

                        iframe.onload = function() {
                            var links = iframe.contentDocument.querySelectorAll('a[target="_blank"]');
                            links.forEach(function(link) {
                                link.addEventListener('click', function(event) {
                                    event.preventDefault();
                                    iframe.contentWindow.location.href = link.href;
                                });
                            });
                        };
            
                        newTab.document.body.appendChild(iframe);
                    } else {
                        alert("couldn't manage to open a new tab :(");
                    }
                });
            });
            </script>    


        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const pinButtons = document.querySelectorAll(".pin-button");
                const pinnedContainer = document.querySelector(".pinned-container");
                const pinnedHeader = document.querySelector(".pinned-header");
                const allGamesHeader = document.querySelector(".allgames-header")

                const pinnedGames = JSON.parse(localStorage.getItem("pinnedGames")) || [];

                function updatePinnedUI() {
                    if (pinnedGames.length === 0) {
                        pinnedContainer.style.display = "none";
                        pinnedHeader.style.display = "none";
                        allGamesHeader.style.display = "none";
                    } else {
                        pinnedContainer.style.display = "block";
                        pinnedHeader.style.display = "block";
                        allGamesHeader.style.display = "block"

                        pinnedContainer.innerHTML = "";
                        pinnedGames.forEach((game) => {
                            const gameLink = document.createElement("a");
                            gameLink.href = game.link;
                            gameLink.target = "_blank";

                            const gameButton = document.createElement("div");
                            gameButton.classList.add("button");
                            gameButton.style.backgroundImage = `url('${game.thumbnail}')`;
                            gameButton.innerHTML = `<h2>${game.name}</h2>`;

                            const pinButton = document.createElement("span");
                            pinButton.classList.add("pin-button");
                            pinButton.innerText = "✖";
                            pinButton.addEventListener("click", (event) => {
                                event.preventDefault();
                                unpinGame(game.name);
                            });

                            gameButton.appendChild(pinButton);
                            gameLink.appendChild(gameButton);
                            pinnedContainer.appendChild(gameLink);
                        });
                    }
                }

                function pinGame(name, thumbnail, link) {
                    const isAlreadyPinned = pinnedGames.some((game) => game.name === name);
                    if (!isAlreadyPinned) {
                        pinnedGames.push({ name, thumbnail, link });
                        localStorage.setItem("pinnedGames", JSON.stringify(pinnedGames));
                        updatePinnedUI();
                    }
                }

                function unpinGame(name) {
                    const index = pinnedGames.findIndex((game) => game.name === name);
                    if (index !== -1) {
                        pinnedGames.splice(index, 1);
                        localStorage.setItem("pinnedGames", JSON.stringify(pinnedGames));
                        updatePinnedUI();
                    }
                }

                pinButtons.forEach((pinButton, index) => {
                    pinButton.addEventListener("click", (event) => {
                        event.preventDefault();
                        const gameDiv = pinButton.closest(".button");
                        const thumbnail = gameDiv.style.backgroundImage
                            .replace('url("', '')
                            .replace('")', '');
                        const name = gameDiv.querySelector("h2").textContent;
                        const link = gameDiv.parentElement.href; 
                        pinGame(name, thumbnail, link);
                    });
                });
                updatePinnedUI();
            });
        </script>

  </body>
</html>
